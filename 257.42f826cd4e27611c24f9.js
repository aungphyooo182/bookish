"use strict";(self.webpackChunkbookish=self.webpackChunkbookish||[]).push([[257],{7257:(Q,l,a)=>{a.r(l),a.d(l,{DashboardModule:()=>S});var c=a(8583),p=a(2498),_=a(5319),s=a(2340),t=a(639);let C=(()=>{class o{constructor(){}isAuthenticated(){return!!localStorage.getItem("userInfo")}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var b=a(8002),Z=a(5304),d=a(1841);class g{constructor(){}map(r){return r.map(e=>{let i={};return i.display_name=e.display_name,i.list_name=e.list_name,i.list_name_encoded=e.list_name_encoded,i.newest_published_date=e.newest_published_date,i.oldest_published_date=e.oldest_published_date,i.updated=e.updated,i})}}let h=(()=>{class o{constructor(e,i){this.http=e,this.categoryMapper=i,this.baseUrl=s.N.baseUrl,this.apikey="api-key=gfTb2Lrp3R8vqtfyOH6wme7qRu5TIWdd"}getCategories(){return this.http.get(this.baseUrl+`lists/names.json?${this.apikey}`).pipe((0,b.U)(i=>this.categoryMapper.map(i.results)),(0,Z.K)(i=>(console.log("error",i),i)))}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(d.eN),t.LFG(g))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var v=a(350),F=a(8144),U=a(3972),u=a(5482);let m=(()=>{class o{constructor(){this.category={},this.handleSeeBooks=new t.vpe}ngOnInit(){}clickedSeeBooks(e){this.handleSeeBooks.emit(e)}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-category"]],inputs:{category:"category"},outputs:{handleSeeBooks:"handleSeeBooks"},decls:12,vars:7,consts:[[1,"card","grid-content"],[1,"card-body"],[1,"card-title","text-yellow"],[1,"card-text"],[3,"disabled","click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"h5",2),t._uU(3),t.qZA(),t.TgZ(4,"p",3),t._uU(5),t.qZA(),t.TgZ(6,"p",3),t._uU(7),t.qZA(),t.TgZ(8,"p",3),t._uU(9),t.qZA(),t.TgZ(10,"app-button",4),t.NdJ("click",function(){return i.clickedSeeBooks(i.category.list_name_encoded)}),t._uU(11,"See books"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(3),t.Oqu(i.category.display_name),t.xp6(2),t.Oqu(i.category.newest_published_date),t.xp6(2),t.Oqu(i.category.oldest_published_date),t.xp6(2),t.Oqu(i.category.updated),t.xp6(1),t.Tol("btn btn-yellow"),t.Q6J("disabled",!1))},directives:[u.r],styles:[".card[_ngcontent-%COMP%]{cursor:pointer;background-color:transparent!important;background-clip:none!important;border:none!important;border-radius:none!important}"]}),o})();function w(o,r){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"app-category",5),t.NdJ("handleSeeBooks",function(n){return t.CHM(e),t.oxw().handleSeeBooks(n)}),t.qZA(),t.BQk()}if(2&o){const e=r.$implicit;t.xp6(1),t.Q6J("category",e)}}function M(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",6),t.TgZ(1,"app-button",7),t.NdJ("click",function(){return t.CHM(e),t.oxw().clickedLoadMore()}),t._uU(2,"Load more"),t.qZA(),t.qZA()}2&o&&(t.xp6(1),t.Q6J("disabled",!1))}let y=(()=>{class o{constructor(){this.categories=[],this.listFull=!1,this.outputForCategory=new t.vpe,this.outputForLoadMore=new t.vpe}ngOnInit(){}clickedLoadMore(){this.outputForLoadMore.emit()}handleSeeBooks(e){this.outputForCategory.emit(e)}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-category-list"]],inputs:{categories:"categories",listFull:"listFull"},outputs:{outputForCategory:"outputForCategory",outputForLoadMore:"outputForLoadMore"},decls:6,vars:2,consts:[[1,"container","mb-4"],[1,"my-4"],[1,"grid-container"],[4,"ngFor","ngForOf"],["class","flex-box my-2",4,"ngIf"],[1,"grid-item","shadow-sm","rounded",3,"category","handleSeeBooks"],[1,"flex-box","my-2"],[1,"btn","btn-default",3,"disabled","click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"h1",1),t._uU(2,"Available Categories"),t.qZA(),t.TgZ(3,"div",2),t.YNc(4,w,2,1,"ng-container",3),t.qZA(),t.YNc(5,M,3,1,"div",4),t.qZA()),2&e&&(t.xp6(4),t.Q6J("ngForOf",i.categories),t.xp6(1),t.Q6J("ngIf",!i.listFull))},directives:[c.sg,c.O5,m,u.r],styles:[".grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-auto-rows:1fr;grid-column-gap:20px;grid-row-gap:10px}.grid-item[_ngcontent-%COMP%]{transition:ease-in .1s;position:relative;display:flex;flex-direction:column;min-width:0;flex-grow:1;word-wrap:break-word;background-color:#fff;background-clip:border-box;border:1px solid rgba(0,0,0,.125);border-radius:.25rem}.grid-item[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.flex-box[_ngcontent-%COMP%]{display:flex;justify-content:center}@media screen and (max-width: 820px){.grid-container[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr;grid-gap:15px}}@media screen and (max-width: 450px){.grid-container[_ngcontent-%COMP%]{grid-template-columns:1fr;grid-gap:15px}}"]}),o})();var x=a(1749);let f=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-category-loading"]],decls:25,vars:36,consts:[[1,"container","mx-4","my-4"],[3,"shape","width","height"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"ngx-shimmer-loading",1),t._UZ(2,"br"),t._UZ(3,"ngx-shimmer-loading",1),t._UZ(4,"br"),t._UZ(5,"ngx-shimmer-loading",1),t._UZ(6,"br"),t._UZ(7,"ngx-shimmer-loading",1),t._UZ(8,"br"),t._UZ(9,"ngx-shimmer-loading",1),t._UZ(10,"br"),t._UZ(11,"ngx-shimmer-loading",1),t._UZ(12,"br"),t._UZ(13,"ngx-shimmer-loading",1),t._UZ(14,"br"),t._UZ(15,"ngx-shimmer-loading",1),t._UZ(16,"br"),t._UZ(17,"ngx-shimmer-loading",1),t._UZ(18,"br"),t._UZ(19,"ngx-shimmer-loading",1),t._UZ(20,"br"),t._UZ(21,"ngx-shimmer-loading",1),t._UZ(22,"br"),t._UZ(23,"ngx-shimmer-loading",1),t._UZ(24,"br"),t.qZA()),2&e&&(t.xp6(1),t.Q6J("shape","rect")("width","400px")("height","40px"),t.xp6(2),t.Q6J("shape","rect")("width","420px")("height","20px"),t.xp6(2),t.Q6J("shape","rect")("width","420px")("height","20px"),t.xp6(2),t.Q6J("shape","rect")("width","420px")("height","20px"),t.xp6(2),t.Q6J("shape","rect")("width","400px")("height","40px"),t.xp6(2),t.Q6J("shape","rect")("width","420px")("height","20px"),t.xp6(2),t.Q6J("shape","rect")("width","420px")("height","20px"),t.xp6(2),t.Q6J("shape","rect")("width","420px")("height","20px"),t.xp6(2),t.Q6J("shape","rect")("width","400px")("height","40px"),t.xp6(2),t.Q6J("shape","rect")("width","420px")("height","20px"),t.xp6(2),t.Q6J("shape","rect")("width","420px")("height","20px"),t.xp6(2),t.Q6J("shape","rect")("width","420px")("height","20px"))},directives:[x.w],styles:[""]}),o})();function L(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"app-category-list",4),t.NdJ("outputForCategory",function(n){return t.CHM(e),t.oxw().handleCategory(n)})("outputForLoadMore",function(){return t.CHM(e),t.oxw().handleLoadMore()}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("categories",e.mutedCategories)("listFull",e.listFull)}}function T(o,r){1&o&&t._UZ(0,"app-category-loading")}const k=[{path:"",component:(()=>{class o{constructor(e,i,n){this.auth=e,this.router=i,this.dashboardService=n,this.Pic1=s.N.Pic1,this.Pic2=s.N.Pic2,this.Pic3=s.N.Pic3,this.Pic4=s.N.Pic4,this.Pic5=s.N.Pic5,this._subscription=new _.w,this.categories=[],this.imageList=[this.Pic1,this.Pic2,this.Pic3,this.Pic4,this.Pic5],this.loading=!1,this.mutedCategories=[],this.limit=10,this.skip=0,this.listFull=!1}ngOnInit(){this.auth.isAuthenticated()?(console.log("authenticated"),this.getCategories()):this.router.navigateByUrl("/login")}getCategories(){this.loading=!0,this._subscription=this.dashboardService.getCategories().subscribe(e=>{console.log("categories",e),this.categories=e,this.loading=!1,this.mutedCategories=this.categories.splice(this.skip,this.limit),console.log(this.mutedCategories,this.skip,this.limit)},e=>{this.loading=!1,console.log("error",e),this.loading=!1})}handleCategory(e){this.router.navigateByUrl("/books/"+e)}handleLoadMore(){if(this.skip<this.categories.length){this.skip+=this.limit;let e=this.categories.splice(this.skip,this.limit);this.mutedCategories=[...this.mutedCategories,...e]}else this.listFull=!0}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(C),t.Y36(p.F0),t.Y36(h))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-dashboard"]],decls:6,vars:3,consts:[[1,"container","my-2"],[3,"imageList"],[3,"categories","listFull","outputForCategory","outputForLoadMore",4,"ngIf"],[4,"ngIf"],[3,"categories","listFull","outputForCategory","outputForLoadMore"]],template:function(e,i){1&e&&(t._UZ(0,"app-header"),t.TgZ(1,"div",0),t._UZ(2,"app-carousel",1),t.qZA(),t.YNc(3,L,1,2,"app-category-list",2),t.YNc(4,T,1,0,"app-category-loading",3),t._UZ(5,"app-footer")),2&e&&(t.xp6(2),t.Q6J("imageList",i.imageList),t.xp6(1),t.Q6J("ngIf",!i.loading),t.xp6(1),t.Q6J("ngIf",i.loading))},directives:[v.G,F.F,c.O5,U.c,y,f],styles:[""]}),o})()}];let J=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[p.Bz.forChild(k)],p.Bz]}),o})();var A=a(3706);let S=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[g,h],imports:[[c.ez,J,A.q,d.JF,x.x]]}),o})()}}]);