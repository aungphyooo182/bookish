"use strict";(self.webpackChunkbookish=self.webpackChunkbookish||[]).push([[40],{3040:(j,g,r)=>{r.r(g),r.d(g,{BooksModule:()=>Q});var s=r(8583),p=r(2498),v=r(5319),o=r(639),C=r(8002),T=r(2340),u=r(1841);class k{constructor(){}map(i){return i.map(t=>{let e={};return e.bestsellers_date=t.bestsellers_date,e.corrections=t.corrections,e.display_name=t.display_name,e.list_name=t.list_name,e.list_name_encoded=t.list_name_encoded,e.next_published_date=t.next_published_date,e.normal_list_ends_at=t.normal_list_ends_at,e.previous_published_date=t.previous_published_date,e.published_date=t.published_date,e.published_date_description=t.published_date_description,e.updated=t.updated,e.books=this.mapBook(t.books),e})}mapBook(i){return i.map(t=>{let e={};return e.age_group=t.age_group,e.amazon_product_url=t.amazon_product_url,e.article_chapter_link=t.article_chapter_link,e.asterisk=t.asterisk,e.author=t.author,e.book_image=t.book_image,e.book_image_height=t.book_image_height,e.book_image_width=t.book_image_width,e.book_review_link=t.book_review_link,e.book_uri=t.book_uri,e.buy_links=t.buy_links,e.contributor=t.contributor,e.contributor_note=t.contributor_note,e.dagger=t.dagger,e.description=t.description,e.first_chapter_link=t.first_chapter_link,e.isbns=t.isbns,e.price=t.price,e.primary_isbn10=t.primary_isbn10,e.primary_isbn13=t.primary_isbn13,e.publisher=t.publisher,e.rank=t.rank,e.rank_last_week=t.rank_last_week,e.sunday_review_link=t.sunday_review_link,e.title=t.title,e.weeks_on_list=t.weeks_on_list,e})}}let h=(()=>{class n{constructor(t,e){this.http=t,this.bookMapper=e,this.baseUrl=T.N.baseUrl,this.apikey="api-key=gfTb2Lrp3R8vqtfyOH6wme7qRu5TIWdd"}getBooksByCategory(t,e="2019-01-20"){return this.http.get(this.baseUrl+`lists/${e}/${t}.json?${this.apikey}`).pipe((0,C.U)(l=>this.bookMapper.map([l.results])))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(u.eN),o.LFG(k))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),d=(()=>{class n{constructor(){this.book={}}setBook(t){this.book=t}getBook(){return this.book}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var _=r(350),b=r(3972);let m=(()=>{class n{constructor(){this.categoryDetail={}}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-category-detail"]],inputs:{categoryDetail:"categoryDetail"},decls:12,vars:6,consts:[[1,"py-4","text-yellow","category-detail-text"],[1,"category-detail-text"]],template:function(t,e){1&t&&(o.TgZ(0,"h1",0),o._uU(1),o.qZA(),o.TgZ(2,"p",1),o._uU(3),o.qZA(),o.TgZ(4,"p",1),o._uU(5),o.qZA(),o.TgZ(6,"p",1),o._uU(7),o.qZA(),o.TgZ(8,"p",1),o._uU(9),o.qZA(),o.TgZ(10,"p",1),o._uU(11),o.qZA()),2&t&&(o.xp6(1),o.hij(" ",e.categoryDetail.display_name,"\n"),o.xp6(2),o.hij("Updated : ",e.categoryDetail.updated,""),o.xp6(2),o.hij(" Bestsellers date : ",e.categoryDetail.bestsellers_date,"\n"),o.xp6(2),o.hij(" Next published date : ",e.categoryDetail.next_published_date,"\n"),o.xp6(2),o.hij(" Previous published date : ",e.categoryDetail.previous_published_date,"\n"),o.xp6(2),o.hij(" Book counts : ",e.categoryDetail.normal_list_ends_at,"\n"))},styles:[".category-detail-text[_ngcontent-%COMP%]{font-family:Righteous}"]}),n})();var D=r(5482);let y=(()=>{class n{constructor(){this.book={},this.handleBookDetails=new o.vpe}ngOnInit(){}clickedDetails(t){this.handleBookDetails.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-book"]],inputs:{book:"book"},outputs:{handleBookDetails:"handleBookDetails"},decls:15,vars:9,consts:[[1,"card"],["alt","Card image cap",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title","text-green"],[1,"card-text"],[3,"disabled","click"]],template:function(t,e){1&t&&(o.TgZ(0,"div",0),o._UZ(1,"img",1),o.TgZ(2,"div",2),o.TgZ(3,"h5",3),o._uU(4),o.qZA(),o.TgZ(5,"p",4),o._uU(6),o.qZA(),o.TgZ(7,"p",4),o._uU(8),o.qZA(),o.TgZ(9,"p",4),o._uU(10),o.qZA(),o.TgZ(11,"p",4),o._uU(12),o.qZA(),o.TgZ(13,"app-button",5),o.NdJ("click",function(){return e.clickedDetails(e.book)}),o._uU(14," See Details "),o.qZA(),o.qZA(),o.qZA()),2&t&&(o.xp6(1),o.Q6J("src",e.book.book_image,o.LSH),o.xp6(3),o.Oqu(e.book.title),o.xp6(2),o.Oqu(e.book.description),o.xp6(2),o.hij("Author : ",e.book.author,""),o.xp6(2),o.hij("Publisher : ",e.book.publisher,""),o.xp6(2),o.hij("Pirce : ",e.book.price,""),o.xp6(1),o.Tol("btn btn-green"),o.Q6J("disabled",!1))},directives:[D.r],styles:[".card[_ngcontent-%COMP%]{cursor:pointer;background-color:transparent!important;background-clip:none!important;border:none!important;border-radius:none!important}.btn-buy-link[_ngcontent-%COMP%]{display:block;width:100%;margin-bottom:1rem}"]}),n})();function U(n,i){if(1&n){const t=o.EpF();o.ynx(0),o.TgZ(1,"app-book",2),o.NdJ("handleBookDetails",function(a){return o.CHM(t),o.oxw().handleBookDetails(a)}),o.qZA(),o.BQk()}if(2&n){const t=i.$implicit;o.xp6(1),o.Q6J("book",t)}}let f=(()=>{class n{constructor(){this.books=[],this.outputBookDetailsHandler=new o.vpe}ngOnInit(){}handleBookDetails(t){this.outputBookDetailsHandler.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-book-list"]],inputs:{books:"books"},outputs:{outputBookDetailsHandler:"outputBookDetailsHandler"},decls:2,vars:1,consts:[[1,"grid-container"],[4,"ngFor","ngForOf"],[1,"grid-item","shadow-sm","rounded",3,"book","handleBookDetails"]],template:function(t,e){1&t&&(o.TgZ(0,"div",0),o.YNc(1,U,2,1,"ng-container",1),o.qZA()),2&t&&(o.xp6(1),o.Q6J("ngForOf",e.books))},directives:[s.sg,y],styles:[".grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-auto-rows:1fr;grid-column-gap:20px;grid-row-gap:10px}.grid-item[_ngcontent-%COMP%]{transition:ease-in .1s;position:relative;display:flex;flex-direction:column;min-width:0;flex-grow:1;word-wrap:break-word;background-color:#fff;background-clip:border-box;border:1px solid rgba(0,0,0,.125);border-radius:.25rem}.grid-item[_ngcontent-%COMP%]:hover{transform:scale(1.02)}@media screen and (max-width: 820px){.grid-container[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr;grid-gap:15px}}@media screen and (max-width: 420px){.grid-container[_ngcontent-%COMP%]{grid-template-columns:1fr;grid-gap:15px}}"]}),n})();var Z=r(1749);let B=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-category-detail-loading"]],decls:7,vars:12,consts:[[3,"shape","width","height"]],template:function(t,e){1&t&&(o._UZ(0,"ngx-shimmer-loading",0),o._UZ(1,"br"),o._UZ(2,"ngx-shimmer-loading",0),o._UZ(3,"br"),o._UZ(4,"ngx-shimmer-loading",0),o._UZ(5,"br"),o._UZ(6,"ngx-shimmer-loading",0)),2&t&&(o.Q6J("shape","rect")("width","400px")("height","40px"),o.xp6(2),o.Q6J("shape","rect")("width","420px")("height","20px"),o.xp6(2),o.Q6J("shape","rect")("width","420px")("height","20px"),o.xp6(2),o.Q6J("shape","rect")("width","420px")("height","20px"))},directives:[Z.w],styles:[""]}),n})();function A(n,i){if(1&n){const t=o.EpF();o.TgZ(0,"div",1),o._UZ(1,"app-category-detail",2),o.TgZ(2,"app-book-list",3),o.NdJ("outputBookDetailsHandler",function(a){return o.CHM(t),o.oxw().handleBookDetail(a)}),o.qZA(),o.qZA()}if(2&n){const t=o.oxw();o.xp6(1),o.Q6J("categoryDetail",t.categoryDetail),o.xp6(1),o.Q6J("books",t.books)}}function w(n,i){1&n&&(o.TgZ(0,"div",1),o.TgZ(1,"h1",4),o._uU(2,"Sorry, API returns 404"),o.qZA(),o.qZA())}function q(n,i){1&n&&(o.TgZ(0,"div",1),o._UZ(1,"app-category-detail-loading"),o.qZA())}function M(n,i){if(1&n&&(o.ynx(0),o.TgZ(1,"span",10),o._uU(2),o.qZA(),o.TgZ(3,"span",11),o._uU(4),o.qZA(),o.BQk()),2&n){const t=i.$implicit;o.xp6(2),o.Oqu(t.isbn10),o.xp6(2),o.Oqu(t.isbn13)}}function J(n,i){if(1&n&&(o.ynx(0),o.TgZ(1,"a",12),o._uU(2),o.qZA(),o.BQk()),2&n){const t=i.$implicit;o.xp6(1),o.Q6J("href",t.url,o.LSH),o.xp6(1),o.Oqu(t.name)}}const S=[{path:":id",component:(()=>{class n{constructor(t,e,a,l){this.route=t,this.bookService=e,this.sharedService=a,this.router=l,this.category="",this._subscription=new v.w,this.categoryDetail={},this.books=[],this.apiError=!1,this.loading=!1,this.route.params.subscribe(c=>{this.category=c.id?c.id:""})}ngOnInit(){this.category&&this.getBooksByCategory(this.category)}getBooksByCategory(t){this.apiError=!1,this.loading=!0,this._subscription=this.bookService.getBooksByCategory(t).subscribe(e=>{console.log("data",e[0]),this.categoryDetail=e[0],this.books=this.categoryDetail.books,this.loading=!1},e=>{console.log("error",e),this.apiError=!0,this.loading=!1})}handleBookDetail(t){this.sharedService.setBook(t),this.router.navigate(["book-detail"],{relativeTo:this.route})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(p.gz),o.Y36(h),o.Y36(d),o.Y36(p.F0))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-books"]],decls:5,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],[3,"categoryDetail"],[3,"books","outputBookDetailsHandler"],[1,"my-4",2,"text-align","center"]],template:function(t,e){1&t&&(o._UZ(0,"app-header"),o.YNc(1,A,3,2,"div",0),o.YNc(2,w,3,0,"div",0),o.YNc(3,q,2,0,"div",0),o._UZ(4,"app-footer")),2&t&&(o.xp6(1),o.Q6J("ngIf",!e.apiError&&!e.loading),o.xp6(1),o.Q6J("ngIf",e.apiError),o.xp6(1),o.Q6J("ngIf",!e.apiError&&e.loading))},directives:[_.G,s.O5,b.c,m,f,B],styles:[""]}),n})()},{path:":id/book-detail",component:(()=>{class n{constructor(t,e){this.sharedService=t,this.location=e,this.book={}}ngOnInit(){this.book=this.sharedService.getBook(),void 0===this.book.author&&this.location.back()}back(){this.location.back()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(d),o.Y36(s.Ye))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-book-detail"]],decls:29,vars:10,consts:[[1,"container","my-4"],[1,"btn","btn-secondary","my-2",3,"click"],[1,"grid-container"],["alt","book image cap",1,"book-detail-image",3,"src"],[1,"desc","mx-4"],[1,"book-title"],[1,"book-text"],[4,"ngFor","ngForOf"],[1,"book-text","my-2"],[1,"flex-box"],[1,"badge","alert-primary","mx-1"],[1,"badge","alert-primary"],["role","button",1,"btn","btn-warning","btn-buy-link","mx-1",3,"href"]],template:function(t,e){1&t&&(o._UZ(0,"app-header"),o.TgZ(1,"div",0),o.TgZ(2,"button",1),o.NdJ("click",function(){return e.back()}),o._uU(3,"Back"),o.qZA(),o.TgZ(4,"div",2),o._UZ(5,"img",3),o.TgZ(6,"div",4),o.TgZ(7,"h5",5),o._uU(8),o.qZA(),o.TgZ(9,"p",6),o._uU(10),o.qZA(),o.TgZ(11,"p",6),o._uU(12),o.qZA(),o.TgZ(13,"p",6),o._uU(14),o.qZA(),o.TgZ(15,"p",6),o._uU(16),o.qZA(),o.TgZ(17,"p",6),o._uU(18),o.qZA(),o.TgZ(19,"p",6),o._uU(20),o.qZA(),o.TgZ(21,"p",6),o._uU(22,"ISBN :"),o.qZA(),o.YNc(23,M,5,2,"ng-container",7),o.qZA(),o.qZA(),o.TgZ(24,"h3",8),o._uU(25,"Buy Here"),o.qZA(),o.TgZ(26,"div",9),o.YNc(27,J,3,2,"ng-container",7),o.qZA(),o.qZA(),o._UZ(28,"app-footer")),2&t&&(o.xp6(5),o.Q6J("src",e.book.book_image,o.LSH),o.xp6(3),o.Oqu(e.book.title),o.xp6(2),o.Oqu(e.book.description),o.xp6(2),o.hij("Author : ",e.book.author,""),o.xp6(2),o.hij("Publisher : ",e.book.publisher,""),o.xp6(2),o.hij("Pirce : ",e.book.price,""),o.xp6(2),o.hij("Rank : ",e.book.rank,""),o.xp6(2),o.hij("Rank last Week : ",e.book.rank_last_week,""),o.xp6(3),o.Q6J("ngForOf",e.book.isbns),o.xp6(4),o.Q6J("ngForOf",e.book.buy_links))},directives:[_.G,s.sg,b.c],styles:[".book-detail-image[_ngcontent-%COMP%]{height:auto;object-fit:contain}.btn-buy-link[_ngcontent-%COMP%]{display:flex;margin-bottom:1rem;max-width:250px}.grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 2fr}.flex-box[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.desc[_ngcontent-%COMP%]{margin:0 4rem}@media screen and (max-width: 429px){.grid-container[_ngcontent-%COMP%]{grid-template-columns:1fr}.desc[_ngcontent-%COMP%]{margin:2rem 0!important}}"]}),n})()}];let F=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[p.Bz.forChild(S)],p.Bz]}),n})();var P=r(3706);let Q=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[h,k,d],imports:[[s.ez,F,u.JF,P.q,Z.x]]}),n})()}}]);